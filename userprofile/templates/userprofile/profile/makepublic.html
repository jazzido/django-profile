{% extends "base.html" %}
{% load i18n %}
{% block title %}{% blocktrans %}{{ user }}'s Dashboard{% endblocktrans %}{% endblock %}
{% block customjs %}
{% if profile.latitude %}
<script src="http://maps.google.com/maps?file=api&amp;v=2.x&amp;key={{ APIKEY }}" type="text/javascript"></script>
<script type="text/javascript">
	$(function() {
  	if (GBrowserIsCompatible()) {
    	this.map = new GMap2(document.getElementById("map"));
    	this.map.addControl(new GLargeMapControl());
    	this.map.addControl(new GOverviewMapControl())
    	this.map.addControl(new GMapTypeControl())
    	this.map.enableContinuousZoom();
    	this.map.setCenter(new GLatLng({{ profile.latitude }}, {{ profile.longitude }}), 4);
    	this.marker = new GMarker(new GLatLng({{ profile.latitude }}, {{ profile.longitude }}), {clickable: false, bouncy: true, draggable: false});
    	this.map.addOverlay(this.marker);
		}
  });
</script>
{% endif %}
{% endblock %}
{% block content %}
{% include "userprofile/menu.html" %}
<form action="" method="post">
  <fieldset>
		<legend>{% trans "Click on the information you want to make public" %}</legend>
		<div class="span-11 prepend-1">
   		<label for="id_name">{% trans "Name:" %}</label>
			<p>
				{% if profile.firstname %}
				<input type="checkbox" name="firstname_public" {% if profile.visible.firstname %}checked="on"{% endif %}/>
    		<span class="large">{{ profile.firstname }} {{ profile.surname }}</span>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
   		<label for="id_gender">{% trans "Gender:" %}</label>
			<p style="overflow: hidden;">
				{% if profile.gender %}
				<input type="checkbox" name="gender_public" {% if profile.visible.gender %}checked="on"{% endif %} />
				<span class="large">{{ profile.get_gender_display }}</span>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
   		<label for="id_url">{% trans "Url:" %}</label>
			<p>
				{% if profile.url %}
				<input type="checkbox" name="url_public" {% if profile.visible.url %}checked="on"{% endif %} />
    		<a class="large" href="{{ profile.url }}">{{ profile.url }}</a>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
    	<label for="id_country">{% trans "Country:" %}</label>
			<p>
				{% if profile.country %}
				<input type="checkbox" name="country_id_public" {% if profile.visible.country_id %}checked="on"{% endif %}/>
    		<span class="large">{{ profile.country }}</span>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
		</div>
		<div class="span-11 last">
   		<label for="id_birthdate">{% trans "Birth date:" %}</label>
			<p>
				{% if profile.yearsold %}
				<input type="checkbox" name="birthdate_public" {% if profile.visible.birthdate %}checked="on"{% endif %}/>
				<span class="large">{{ profile.yearsold }} {% trans "years old." %}</span>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
   		<label for="id_about">{% trans "About:" %}</label>
			<p>
				{% if profile.about %}
				<input type="checkbox" name="about_public" {% if profile.visible.about %}checked="on"{% endif %}/>
    		<span class="large">{{ profile.about }}</span>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
			{% if APIKEY %}
   		<label for="id_location">{% trans "Location:" %}</label>
			<p>
				{% if profile.location %}
				<input type="checkbox" name="location_public" {% if profile.visible.location %}checked="on"{% endif %}/>
    		<span class="large">{{ profile.location }}</span>
				{% else %}
				<span class="large">{% trans "Not set" %}</span>
				{% endif %}
			</p>
			{% endif %}
		</div>
		{% if APIKEY %}
		<hr />
    <label for="map">{% trans "Position:" %}</label>
    <p>
			{% if profile.latitude %}
			<input type="checkbox" name="latitude_public" {% if profile.visible.latitude %}checked="on"{% endif %}/>
      <div id="map"></div>
			{% else %}
			<span class="large">{% trans "Not set" %}</span>
			{% endif %}
    </p>
		{% endif %}
  	<p><input type="submit" value="{% trans 'Save' %}" /></p>
  </fieldset>
</form>
{% endblock %}
