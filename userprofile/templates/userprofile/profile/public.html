{% extends "base.html" %}
{% load i18n %}
{% load avatars %}

{% block title %}{{ profile.user }}'s public profile{% endblock %}
{% block robots %}noindex,nofollow{% endblock %}

{% block extrajs %}
	{% if profile.latitude and profile.longitude and profile.visible.location %}
	<script type="text/javascript" src="http://www.google.com/jsapi?key={{ GOOGLE_MAPS_API_KEY }}"></script>
	<script type="text/javascript">google.load("maps", "2");</script>
	<script type="text/javascript">
		$(function() {
		if (google.maps.BrowserIsCompatible()) {
			var map = new google.maps.Map2(document.getElementById("map"));
      map.disableDragging();
			map.setCenter(new google.maps.LatLng({{ profile.latitude }}, {{ profile.longitude }}), 4);
			var marker = new google.maps.Marker(new google.maps.LatLng({{ profile.latitude }}, {{ profile.longitude }}), {clickable: false });
			map.addOverlay(marker);
		}
		});
	</script>
	{% endif %}
{% endblock %}

{% block content %}
	<h2>{% blocktrans with profile.user as user %}Public profile of {{ user }}{% endblocktrans %}</h2>

	<div class="vcard">
		<div class="span-10">
			<img class="border top" src="{% avatar 96 profile.user %}" />
			<p>{% trans "Username" %}: <strong>{{ profile.user }}</strong></p>

		{% if profile.firstname and profile.visible.firstname %}
		<p>{% trans "Name" %}: <strong>{{ profile.firstname }} {{ profile.surname }}</strong></p>
		{% endif %}

		{% if profile.url and profile.visible.url %}
			<li>{% trans "Url" %}: <a href="{{ profile.url }}">{{ profile.url }}</a></li>
		{% endif %}

		{% if profile.about and profile.visible.about %}
			<li>{% trans "About" %}: {{ profile.about }}</li>
		{% endif %}
		</ul>
		</div>
		<div class="span-10 last">
		{% if profile.gender and profile.visible.gender %}
			<li>{% trans "Gender" %}: <img src="{{ profile.get_genderimage_url }}" /></li>
		{% endif %}

		{% if profile.country and profile.visible.country_id %}
			<li>{% trans "Country" %}: {{ profile.country }}</li>
		{% endif %}

		{% if profile.location and profile.visible.location %}
			<li>{% trans "Location" %}: {{ profile.location }}</li>
		{% endif %}
		</div>
	</div>

{% endblock %}
