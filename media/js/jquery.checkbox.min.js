jQuery.fn.checkbox=function(c){if(jQuery.browser.msie&&(parseFloat(jQuery.browser.version)<7)){document.execCommand('BackgroundImageCache',false,true)}var d={cls:'jquery-checkbox',empty:'/site_media/images/empty.png'};d=jQuery.extend(d,c||{});return this.each(function(){var a=jQuery('<div class="'+d.cls+'-box"><div class="'+d.cls+'"><div class="mark"><img src="'+d.empty+'" /></div></div></div>').hover(function(){jQuery('.'+d.cls,this).addClass(d.cls+'-hover')},function(){jQuery('.'+d.cls,this).removeClass(d.cls+'-hover')});if(this._div&&(oldDiv=jQuery(this._div))){clearInterval(this._int);oldDiv.replaceWith(jQuery(this))}jQuery(this).after(a).css({display:'none'}).appendTo(a);this._div=a;var b=this;this._disabled=(this.disabled?true:false);this._checked=(this.checked?true:false);this._int=setInterval(function(){if(b._disabled!=b.disabled){b._disabled=(b.disabled?true:false);if(b.disabled)jQuery('.'+d.cls,a).addClass(d.cls+'-disabled');else jQuery('.'+d.cls,a).removeClass(d.cls+'-disabled')}if(b._checked!=b.checked){b._checked=(b.checked?true:false);if(b.checked)a.addClass(d.cls+'-checked');else a.removeClass(d.cls+'-checked')}},10);jQuery(a).click(function(){jQuery('input',this).click()});jQuery('img',a).bind('dragstart',function(){return false}).bind('mousedown',function(){return false});if(window.getSelection)jQuery(a).css('MozUserSelect','none');if(this.checked)a.addClass(d.cls+'-checked');if(this.disabled)jQuery('.'+d.cls,a).addClass(d.cls+'-disabled')})};
